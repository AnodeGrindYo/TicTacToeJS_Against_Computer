function play(a){var b=!1;if(0==endGame){IAplayed=!1;if(""!=document.getElementById(a).textContent)return;document.getElementById(a).innerHTML="X",checkVictory("X"),b=verifPlateauPlein(),0==b&&(playerPlay=!1,IAplay(),b=verifPlateauPlein(),checkVictory("O"),playerPlay=!0)}}function IAplay(){var b,a=new Array(""),c=new Array;for(b=1;b<10;b++)a.push(document.getElementById("case"+b).textContent);if(checkWhoCanWin("O","O",a),0==IAplayed&&checkWhoCanWin("X","O",a),""==document.getElementById("case5").textContent&&0==IAplayed)return document.getElementById("case5").innerHTML="O",void(IAplayed=!0);for(b=1;b<=9;)switch(""==document.getElementById("case"+b).textContent&&0==IAplayed&&c.push(b),b){case 1:b=3;break;case 3:b=7;break;case 7:b=9;break;case 9:b++}if(0!=c.length&&0==IAplayed)rndm=Math.floor(Math.random()*(c.length-1)),document.getElementById("case"+c[rndm]).innerHTML="O",IAplayed=!0;else for(;0==IAplayed;)rndm=Math.floor(9*Math.random())+1,""==document.getElementById("case"+rndm).textContent&&(document.getElementById("case"+rndm).innerHTML="O",IAplayed=!0)}function checkWhoCanWin(a,b,c){for(i=1;i<10;i++)if(""==c[i])switch(i){case 1:(c[2]==a&&c[3]==a||c[4]==a&&c[7]==a||c[5]==a&&c[9]==a)&&(document.getElementById("case1").innerHTML=b,IAplayed=!0);break;case 2:(c[1]==a&&c[3]==a||c[5]==a&&c[8]==a)&&(document.getElementById("case2").innerHTML=b,IAplayed=!0);break;case 3:(c[1]==a&&c[2]==a||c[6]==a&&c[9]==a||c[5]==a&&c[7]==a)&&(document.getElementById("case3").innerHTML=b,IAplayed=!0);break;case 4:(c[1]==a&&c[7]==a||c[5]==a&&c[6]==a)&&(document.getElementById("case4").innerHTML=b,IAplayed=!0);break;case 5:(c[1]==a&&c[9]==a||c[2]==a&&c[8]==a||c[3]==a&&c[7]==a||c[4]==a&&c[6]==a)&&(document.getElementById("case5").innerHTML=b,IAplayed=!0);break;case 6:(c[3]==a&&c[9]==a||c[4]==a&&c[5]==a)&&(document.getElementById("case6").innerHTML=b,IAplayed=!0);break;case 7:(c[1]==a&&c[4]==a||c[3]==a&&c[5]==a||c[8]==a&&c[9]==a)&&(document.getElementById("case7").innerHTML=b,IAplayed=!0);break;case 8:(c[2]==a&&c[5]==a||c[7]==a&&c[9]==a)&&(document.getElementById("case8").innerHTML=b,IAplayed=!0);break;case 9:(c[1]==a&&c[5]==a||c[3]==a&&c[6]==a||c[7]==a&&c[8]==a)&&(document.getElementById("case9").innerHTML=b,IAplayed=!0)}return 0}function viderplateau(){window.location.reload()}function checkVictory(a){var b=new Array("");for(i=1;i<10;i++)b.push(document.getElementById("case"+i).textContent);(b[1]==b[2]&&b[2]==b[3]&&b[2]==a||b[4]==b[5]&&b[5]==b[6]&&b[5]==a||b[7]==b[8]&&b[8]==b[9]&&b[8]==a||b[1]==b[4]&&b[4]==b[7]&&b[4]==a||b[2]==b[5]&&b[5]==b[8]&&b[5]==a||b[3]==b[6]&&b[6]==b[9]&&b[6]==a||b[1]==b[5]&&b[5]==b[9]&&b[5]==a||b[3]==b[5]&&b[5]==b[7]&&b[5]==a)&&("O"==a?(alert("Partie terminée\nVous avez perdu !"),viderplateau()):"X"==a&&(alert("Bravo! vous avez gagné"),viderplateau()))}function verifPlateauPlein(){var a=new Array;for(i=1;i<10;i++)""!=document.getElementById("case"+i).textContent&&a.push(document.getElementById("case"+i).textContent);return 9==a.length&&(alert("plateau plein"),viderplateau(),!0)}var playerPlay=!0,endGame=!1,IAWin=!1,playerWin=!1,idCase,pionachecker,pionajouer,IAplayed=!1,clicks=0,caseContent=new Array("");